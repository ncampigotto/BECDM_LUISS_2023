<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>syllabus</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Syllabus_files/libs/clipboard/clipboard.min.js"></script>
<script src="Syllabus_files/libs/quarto-html/quarto.js"></script>
<script src="Syllabus_files/libs/quarto-html/popper.min.js"></script>
<script src="Syllabus_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Syllabus_files/libs/quarto-html/anchor.min.js"></script>
<link href="Syllabus_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Syllabus_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Syllabus_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Syllabus_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Syllabus_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="behavioural-economics-and-consumer-decision-making---syllabus" class="level1">
<h1>Behavioural Economics and Consumer Decision Making - Syllabus</h1>
<section id="instructors" class="level2">
<h2 class="anchored" data-anchor-id="instructors">Instructors</h2>
<p>Matilde Giaccherini (Module 1)<br>
Email: mgiaccherini <em>at</em> luiss <em>dot</em> it<br>
Office hours: by appointment</p>
<p>Nicola Campigotto (Module 2)<br>
Email: ncampigotto <em>at</em> luiss <em>dot</em> it<br>
Office hours: by appointment</p>
</section>
<section id="teaching-assistant" class="level2">
<h2 class="anchored" data-anchor-id="teaching-assistant">Teaching assistant</h2>
<p>Luisa Lorè<br>
Email: llore <em>at</em> luiss <em>dot</em> it<br>
Office hours: by appointment</p>
</section>
<section id="course-webpage-luiss-login-required" class="level2">
<h2 class="anchored" data-anchor-id="course-webpage-luiss-login-required">Course webpage (Luiss login required)</h2>
<p><a href="https://learn.luiss.it/course/view.php?id=20421" class="uri">https://learn.luiss.it/course/view.php?id=20421</a></p>
</section>
<section id="classes" class="level2">
<h2 class="anchored" data-anchor-id="classes">Classes</h2>
<p>Tuesday, 10.00-12.00 (Room A209, viale Romania)<br>
Friday, 11.30-12.30 (WebexAPP)<br>
Classes will <strong>not</strong> be recorded. Participation is mandatory. Please be punctual!</p>
</section>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<p>Basic microeconomics and statistics</p>
</section>
<section id="course-overview" class="level2">
<h2 class="anchored" data-anchor-id="course-overview">Course overview</h2>
<p>This course explores topics in behavioural economics, which seeks to explain how psychological factors influence human decision-making. The aim of the course is to provide you with a solid understanding of (i) why people make the choices they do and (ii) how behavioural insights can be used to inform business strategies and advance policies on health, energy, taxation, and more.</p>
<p>The course consists of two modules. Module 1 introduces the conceptual foundations of behavioural economics and contrasts them with traditional microeconomic theory. Topics covered in this module include prospect theory, loss aversion, and other choice biases and heuristics. Module 2 covers topics such as people’s ability to use new information, social preferences, and nudges.</p>
<p>A detailed outline of the course is given below. Lectures will combine theory and experimental evidence.</p>
</section>
<section id="textbook" class="level2">
<h2 class="anchored" data-anchor-id="textbook">Textbook</h2>
<ul>
<li>Edward Cartwright (2018), <a href="https://www.routledge.com/Behavioral-Economics/Cartwright/p/book/9781138097124"><em>Behavioral Economics</em></a>, 3rd edition, Routledge</li>
<li>Additional required readings are listed in the course outline</li>
</ul>
</section>
<section id="learning-assessment-and-grading" class="level2">
<h2 class="anchored" data-anchor-id="learning-assessment-and-grading">Learning assessment and grading</h2>
<p>Detailed information about the examination rules and regulations can be found at <a href="https://www.luiss.edu/students/student-office/masters-degree-programs/taking-official-exams">this link</a>.</p>
<section id="attending-students" class="level3">
<h3 class="anchored" data-anchor-id="attending-students">Attending students</h3>
<table class="table">
<colgroup>
<col style="width: 55%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Objective</strong></th>
<th style="text-align: left;"><strong>Assessment method</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Interpret results from research papers</td>
<td style="text-align: left;">Five in-class quizzes; Student presentation</td>
</tr>
<tr class="even">
<td style="text-align: left;">Understand and analyze experimental data</td>
<td style="text-align: left;">Three written assignments</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Demonstrate knowledge of key theories and policy findings</td>
<td style="text-align: left;">Final exam</td>
</tr>
</tbody>
</table>
<p>Assignments, presentations, and in-class quizzes will be completed in groups formed at the beginning of the course. Once formed, groups will not be changed.</p>
<p>If you attend classes, then your grade will be determined as follows: + In-class quizzes are worth up to a total of 5 points + Each group assignment is worth up to 5 points + The group presentation is worth up to 3 points + The final exam is worth up to 10 points</p>
<p>The final course grade will be scored on a 30-point scale, with 18 being the minimum pass grade. Scores above 30 will be graded as 30 e lode (with distinction).</p>
<p>Please pay attention to the following rules: 1. If you do not take an in-class quiz, you will receive zero points for that quiz. 2. Group assignments must be submitted by the scheduled due date. If you do not hand in an assignment or hand it in late, then you will receive zero points for that assignment. No excuses will be accepted for late submissions.</p>
</section>
<section id="non-attending-students" class="level3">
<h3 class="anchored" data-anchor-id="non-attending-students">Non-attending students</h3>
<p>If you do not attend classes, then your assessment will be based on a comprehensive written exam worth 100% of the course grade.</p>
</section>
</section>
<section id="structure-of-the-exams" class="level2">
<h2 class="anchored" data-anchor-id="structure-of-the-exams">Structure of the exams</h2>
<p>The final exam for attending students will consist of one open-ended question from either Module 1 or Module 2. The comprehensive exam for non-attending students will consist of three open-ended questions from both modules. Two questions will be based on the textbook, while the third question will be based on the other required readings. All exams will be closed-book, closed-notes.</p>
</section>
<section id="in-class-quizzes" class="level2">
<h2 class="anchored" data-anchor-id="in-class-quizzes">In-class quizzes</h2>
<p>During the course, you will be required to work in groups to complete five in-class quizzes, each approximately 20 minutes in length. he quizzes will be based on one or two research papers to be read before class.</p>
<p>Each quiz will consist of 5 multiple choice or true/false questions. There will be no penalty for wrong answers and each correct answer will be worth 0.2 points (so the maximum possible score is 1 point per quiz). Sometimes you will be asked to briefly justify your answer: answers without justification will be marked as incorrect.</p>
<p>Your total score for in-class quizzes will be the sum of all five scores. Decimals will be rounded to the nearest whole number.</p>
</section>
<section id="assignments" class="level2">
<h2 class="anchored" data-anchor-id="assignments">Assignments</h2>
<p>As part of your coursework, you will take part in three experiments. Each group will then have to analyze the data set of experimental results to answer some questions. The analysis will be performed using <a href="https://www.stata.com">Stata</a>.</p>
<p>The University provides a free Stata licence to all students. You are responsible for ensuring that the software is properly installed on your computer.</p>
<p>A tutorial will be given in class to help you become familiar with Stata.</p>
</section>
<section id="student-presentations" class="level2">
<h2 class="anchored" data-anchor-id="student-presentations">Student presentations</h2>
<p>Each group must choose a research paper to present. Each presentation must be 10 minutes long and should outline (1) the research questions and objectives of the study, (2) the experimental design, and (3) the results.</p>
<p>The list of papers available for presentation is given below. Papers are assigned on a first come, first served basis. To be assigned a paper, go to <a href="https://docs.google.com/spreadsheets/d/1nXle0We9WTz8DmncqyGHKRNjiqqXuXZ9uBjFY-FqQ_o/edit?usp=sharing">this spreadsheet</a> and write the name of your group next to the paper you would like to present. Papers numbered 1 to 6 will be presented during the sixth week of classes, while papers numbered 7 to 12 will be presented during the twelfth week. Note that these readings will <strong>not</strong> be assessed in the final exam.</p>
<p>The presentation can be given by a single member of the group, by some members or by all of them, depending on what group members decide among themselves.</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;"><strong>Paper</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Levitt, List, Neckermann and Sadoff (2016), “<a href="https://doi.org/10.1257/pol.20130358">The behavioralist goes to school: Leveraging behavioral economics to improve educational performance</a>”, <em>American Economic Journal: Economic Policy</em>, vol.&nbsp;8, no. 4, pp.&nbsp;183-2019</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Homonoff (2018), “<a href="https://doi.org/10.1257/pol.20150261">Can small incentives have large effects? The impact of taxes versus bonuses on disposable bag use</a>”, <em>American Economic Journal: Economic Policy</em>, vol.&nbsp;10, no. 4, pp.&nbsp;177-210</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Della Vigna and Malmendier (2006), “<a href="https://doi.org/10.1257/aer.96.3.694">Paying not to go to the gym</a>”, <em>American Economic Review</em>, vol.&nbsp;96, no. 3, pp.&nbsp;694-719</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">Ariely, Bracha and Meier (2009), “<a href="https://doi.org/https://doi.org/">Doing good or doing well? Image motivation and monetary incentives in behaving prosocially</a>”, <em>American Economic Review</em>, vol.&nbsp;99, no. 1, pp.&nbsp;544-555</td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">Mellström and Johannesson (2008), “<a href="https://doi.org/10.1162/JEEA.2008.6.4.845">Crowding out in blood donation: Was Titmuss right?</a>”, <em>Journal of the European Economic Association</em>, vol.&nbsp;6, no. 4, pp.&nbsp;845-863</td>
</tr>
<tr class="odd">
<td style="text-align: left;">9</td>
<td style="text-align: left;">Goldstein, Cialdini and Griskevicius (2008), “<a href="https://doi.org/10.1086/586910">A room with a viewpoint: Using norm-based appeals to motivate conservation behaviors in a hotel setting</a>”, <em>Journal of Consumer Research</em>, vol.&nbsp;35, n.&nbsp;3, pp.&nbsp;472-482</td>
</tr>
<tr class="even">
<td style="text-align: left;">10</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">11</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">12</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</section>
<section id="course-outline" class="level2">
<h2 class="anchored" data-anchor-id="course-outline">Course outline</h2>
<p>Any changes to this outline will be announced in class, as will the exact date and time of the experiments and in-class quizzes.</p>
<p>Readings marked with a circle (°) will be assessed through in-class quizzes. All the readings below are required for non-attending students.</p>
<section id="module-1-giaccherini" class="level3">
<h3 class="anchored" data-anchor-id="module-1-giaccherini">Module 1 (Giaccherini)</h3>
<ul>
<li>[<strong><em>Week 1</em></strong>] Introduction to behavioral economics
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapter 1 (Sections TBA)<br>
</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 2</em></strong>] Simple heuristics for complex choices
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapter 2 (Sections TBA)<br>
</li>
<li>°Kahneman, Knetsch and Thaler (1991), “<a href="https://doi.org/10.1257/jep.5.1.193">Anomalies: The endowment effect, loss aversion, and status quo bias</a>”, <em>Journal of Economic Perspectives</em>, vol.&nbsp;5, no. 1, pp.&nbsp;193-206</li>
</ul></li>
<li><em>Activities:</em>
<ul>
<li>First in-class quiz<br>
</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 3</em></strong>] Introduction to data analysis with Stata<br>
</li>
<li>[<strong><em>Week 4</em></strong>] Choices with risk
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapter 3 (Sections TBA)<br>
</li>
<li>°Additional reading TBA<br>
</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 5</em></strong>] Intertemporal Choices
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapter 4 (Sections TBA)</li>
</ul></li>
<li><em>Activities:</em>
<ul>
<li>First experiment</li>
<li>Second in-class quiz<br>
</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 6</em></strong>] Student presentations</li>
</ul>
</section>
<section id="module-2-campigotto" class="level3">
<h3 class="anchored" data-anchor-id="module-2-campigotto">Module 2 (Campigotto)</h3>
<ul>
<li>[<strong><em>Week 7</em></strong>] Learning from new information
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapter 5 (Sections 5.1.0, 5.2.0, 5.2.1 and 5.2.3)</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 8</em></strong>] Social interactions
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapters 7 (Sections 7.1.0 to 7.1.5) and 11 (Section 11.1.1)<br>
</li>
<li>°Balafoutas, Nikiforakis and Rockenbach (2014), “<a href="https://doi.org/10.1073/pnas.1413170111">Direct and indirect punishment among strangers in the field</a>”, <em>Proceedings of the National Academy of Sciences</em>, vol.&nbsp;111, no. 45, pp.&nbsp;15924-15927<br>
</li>
</ul></li>
<li><em>Activities:</em>
<ul>
<li>Second experiment</li>
</ul></li>
</ul></li>
<li>[<strong><em>Weeks 9 and 10</em></strong>] Social preferences and social comparisons
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapter 7 (Sections 7.2.0 to 7.5.3)</li>
<li>°Gneezy and Rustichini (2000), “<a href="https://doi.org/10.1162/003355300554917">Pay enough or don’t pay at all</a>”, <em>Quarterly Journal of Economics</em>, vol.&nbsp;115, no. 3, pp.&nbsp;791-810<br>
</li>
<li>°Meyer and Tripodi (2021), “<a href="https://doi.org/10.1016/j.joep.2021.102434">Image concerns in pledges to give blood: Evidence from a field experiment</a>”, <em>Journal of Economic Psychology</em>, vol.&nbsp;87, no. 102434<br>
</li>
</ul></li>
<li><em>Activities:</em>
<ul>
<li>Third experiment<br>
</li>
<li>Third in-class quiz</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 11</em></strong>] Nudges
<ul>
<li><em>Readings:</em>
<ul>
<li>Cartwright, Chapters 10 (Sections 10.7.0 and 10.7.2) and 11 (Sections 11.2.0 to 11.2.5)<br>
</li>
<li>°Additional readings TBA</li>
</ul></li>
<li><em>Activities:</em>
<ul>
<li>Fourth in-class quiz</li>
</ul></li>
</ul></li>
<li>[<strong><em>Week 12</em></strong>] Student presentations
<ul>
<li><em>Activities:</em>
<ul>
<li>Fifth in-class quiz</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>